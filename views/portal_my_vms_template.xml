<odoo>
  <template id="portal_my_vms" name="My Virtual Machines">
    <t t-call="portal.portal_layout">
      <div class="container">
        <h2 class="mb-4">My Virtual Machines</h2>
        <t t-if="vms">
          <table class="table table-hover">
            <thead class="thead-dark">
              <tr>
                <th>Name</th>
                <th>Template</th>
                <th>Status</th>
                <th>Start</th>
                <th>End</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <t t-foreach="vms" t-as="vm">
                <tr>
                  <td><strong><t t-esc="vm.name"/></strong></td>
                  <td><t t-esc="vm.vm_template_id.name"/></td>
                  <td>
                    <span t-if="vm.state == 'active'" class="badge badge-success">Active</span>
                    <span t-if="vm.state == 'stopped'" class="badge badge-secondary">Stopped</span>
                    <span t-if="vm.state == 'suspended'" class="badge badge-warning">Suspended</span>
                  </td>
                  <td><t t-esc="vm.start_date"/></td>
                  <td><t t-esc="vm.end_date or '-'"/></td>
                  <td>
                    <t t-if="vm.proxmox_vm_id">
                      <a t-att-href="'/my/vm/%s/console' % vm.proxmox_vm_id" class="btn btn-sm btn-primary" target="_blank">Console</a>
                    </t>
                  </td>
                </tr>
              </t>
            </tbody>
          </table>
        </t>
        <t t-if="not vms">
          <p class="text-muted">You have no virtual machines yet.</p>
        </t>
      </div>
    </t>
  </template>
</odoo>